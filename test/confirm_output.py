test_file = "test2.txt"
file_string = open(test_file).read()

original_code = "".join(file_string.split())


out = [7, (2, 1), 26, (1, 1), 27, 23, 7, (2, 2), 24, 7, (2, 3), 26, 27, 22, 7, (2, 4), 22, 7, (2, 5), 25, 28, 7, (2, 6), 23, 7, (2, 1), 23, 7, (2, 7), 23, (2, 7), 16, (2, 4), 23, (2, 1), 16, (2, 3), 26, (2, 4), 27, 23, (2, 6), 16, (2, 4), 18, (1, 2), 23, 8, 24, (2, 6), 12, (2, 5), 25, 28, 3, 24, (2, 3), 26, (2, 6), 27, 12, (2, 1), 25, 28, (2, 1), 16, (2, 3), 26, (2, 6), 27, 23, (2, 7), 16, (2, 6), 23, 29, (2, 6), 16, (2, 6), 18, (1, 2), 23, 29, 6, (2, 7), 23, 29, 5, (2, 8), 24, 7, (2, 3), 26, 27, 22, 7, (2, 4),
       22, 7, (2, 5), 25, 28, 7, (2, 6), 23, 7, (2, 7), 23, (2, 6), 16, (2, 4), 23, 8, 24, (2, 6), 12, 16, (2, 5), 19, (1, 2), 25, 28, 7, (2, 9), 23, (2, 7), 16, (2, 10), 24, (2, 3), 22, (2, 11), 22, (2, 5), 25, 23, (2, 9), 16, (2, 3), 26, (2, 7), 27, 23, (2, 3), 26, (2, 7), 27, 16, (2, 3), 26, (2, 6), 27, 23, (2, 3), 26, (2, 6), 27, 16, (2, 9), 23, (2, 6), 16, (2, 6), 18, (1, 2), 23, 29, 3, 24, (2, 1), 14, (1, 3), 25, 28, (2, 12), 16, (2, 1), 18, (1, 2), 29, 4, 28, 9, 24, (2, 1), 25, 10, 24, (2, 1), 25, 29, 29]
number_symbol_table = [10, 1, 0]
identifier_symbol_table = ['x', 'miniloc', 'a', 'low',
                           'high', 'i', 'k', 'sort', 't', 'minloc', 'I', 'y']

tables = []
tables.append(number_symbol_table)
tables.append(identifier_symbol_table)

token_dict = {1: 'NUM', 2: 'ID', 3: 'if', 4: 'else', 5: 'void', 6: 'return', 7: 'int', 8: 'while', 9: 'input', 10: 'output', 11: '!=', 12: '<', 13: '<=',
              14: '>', 15: '>=', 16: '=', 17: '==', 18: '+', 19: '-', 20: '*', 21: '/', 22: ',', 23: ';', 24: '(', 25: ')', 26: '[', 27: ']', 28: '{', 29: '}', 30: 'Comment'}

translated_code = ""

for entry in out:
    if type(entry) is not int:
        translated_code += str(tables[entry[0] - 1][entry[1] - 1])
    else:
        translated_code += token_dict[entry]

print(f"{original_code}\n{translated_code}")

assert(original_code == translated_code)
